<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>记仇图片生成器</title>
<meta name="description" content="轩哥哥欢迎你。" />
<meta name="keywords" content="QQ211611411" />
<link rel="stylesheet" href="css.css">
<script src="html2canvas.min.js"></script>
<style>
body,h1 {font-family: "Montserrat", sans-serif;}
img{margin-bottom:-7px ;}
a{text-decoration: none;}
.w3-row-padding img {margin-bottom:12px}
.wb{margin: 0 auto;padding: 4px;text-align: center;font-weight:normal;}
.bq{width: 302px;margin: 0 auto;}
.bq p{background-color: #fff;}
@media (max-width:920px){.w3-third{width:100%}}
</style>
<body>
<nav class="w3-sidenav w3-black w3-card-2 w3-animate-top w3-center w3-xxlarge" style="display:none;padding-top:220px">
</nav>
<div class="w3-content" style="max-width:1500px">
<div class="w3-container w3-padding-jumbo w3-center w3-opacity w3-margin-bottom">
  <div class="w3-clear"></div>
  <div class="w3-small">点下面的文字开始编辑记仇</div>
  <p>
  	<input class="w3-check" type="checkbox" name="vehicle" value="粗体" onclick="jc();" /> 粗体
  	<input class="w3-check" type="checkbox" name="vehicle" value="居中" checked="checked" onclick="jz();" /> 居中
  </p>
</div>

<div class="mdzzbq">
	<!--第一列-->
  <div class="w3-third w3-center">
  	<!--记仇-->
  	<div class="w3-card bq">
			<div id="capture">
  			<img src="1.jpg" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;" />
  			<p class="wb" id="text" contenteditable="true">
  				点击这里修改文字，然后再点击生成。
  			</p>
	  	</div>
	  </div>
	  <button class="w3-btn w3-margin-16" onclick="sc('o');draw('');">生成</button>
	  <!--记仇end-->
	  <!--记仇嘲笑-->
  	<div class="w3-card bq">
			<div id="capture2">
  			<img src="2.jpg" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;" />
  			<p class="wb" id="text" contenteditable="true">
  				点击这里修改文字，然后再点击生成。
  			</p>
	  	</div>
	  </div>
	  <button class="w3-btn w3-margin-16" onclick="sc('o');draw('2');">生成</button>
	  <!--记仇嘲笑end-->
  </div>
	<!--第一列end-->
	<!--第二列-->
  <div class="w3-third w3-center">
  	<!--写代码-->
  	<div class="w3-card bq">
			<div id="capture3">
  			<img src="3.jpg" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;" />
  			<p class="wb" id="text" contenteditable="true">
  				点击这里修改文字，然后再点击生成。
  			</p>
	  	</div>
	  </div>
	  <button class="w3-btn w3-margin-16" onclick="sc('o');draw('3');">生成</button>
	  <!--写代码end-->
	  <!--伤身体-->
  	<div class="w3-card bq">
			<div id="capture4">
  			<img src="4.jpg" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;" />
  			<p class="wb" id="text" contenteditable="true">
  				点击这里修改文字，然后再点击生成。
  			</p>
	  	</div>
	  </div>
	  <button class="w3-btn w3-margin-16" onclick="sc('o');draw('4');">生成</button>
	  <!--伤身体end-->
  </div>
	<!--第二列end-->
	<!--第三列-->
  <div class="w3-third w3-center">
  	<!--写代码-->
  	<div class="w3-card bq">
			<div id="capture5">
  			<img src="5.jpg" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;" />
  			<p class="wb" id="text" contenteditable="true">
  				点击这里修改文字，然后再点击生成。
  			</p>
	  	</div>
	  </div>
	  <button class="w3-btn w3-margin-16" onclick="sc('o');draw('5');">生成</button>
	  <!--写代码end-->
	  <!--伤身体-->
  	<div class="w3-card bq">
			<div id="capture6">
  			<img src="6.jpg" oncontextmenu="return false;" ondragstart="return false;" onselectstart="return false;" />
  			<p class="wb" id="text" contenteditable="true">
  				点击这里修改文字，然后再点击生成。
  			</p>
	  	</div>
	  </div>
	  <button class="w3-btn w3-margin-16" onclick="sc('o');draw('6');">生成</button>
	  <!--伤身体end-->
  </div>
	<!--第三列end-->
	

</div></div>
<div class="w3-clear"></div><br><br>
<div id="id01" class="w3-modal">
  <div class="w3-modal-content">
    <div class="w3-container">
      <span onclick="document.getElementById('id01').style.display='none'" class="w3-closebtn">&times;</span>
      <div class="w3-center">
      	<p><img id="downPic" src="" class="w3-card"></p>
      	<p>
      		<button class="w3-btn" onclick="sc('c');">关闭</button>
      	</p>
      	<p class="w3-small">（右键保存、长按保存即可）</p>
      </div>
    </div>
  </div>
</div>
<script>
function mdzzo() {
    document.getElementsByClassName("w3-sidenav")[0].style.width = "100%";
    document.getElementsByClassName("w3-sidenav")[0].style.display = "block";
}
function mdzzc() {
    document.getElementsByClassName("w3-sidenav")[0].style.display = "none";
}
var day2 = new Date();
day2.setTime(day2.getTime());
var s2 = day2.getFullYear()+"年" + (day2.getMonth()+1) + "月" + day2.getDate() + "日";
var day3 = new Date();
day3.setTime(day3.getTime()+24*60*60*1000);
var s3 = day3.getDate();
var day4 = new Date();
day4.setTime(day4.getTime()+48*60*60*1000);
var s4 = day4.getDate();
var day5 = new Date();
day5.setTime(day5.getTime()+72*60*60*1000);
var s5 = day5.getDate();
//自定义
var zdwz = document.getElementsByClassName('mdzzbq').item(0).getElementsByTagName('p');
zdwz[0].innerHTML = s2 + "，轩哥QQ：211611411，更多软件";
zdwz[1].innerHTML = "别写了，今天写了，还有" + s3 + "号，" + s4 + "号，" + s5 + "号的作业，走，去玩" ; 
zdwz[2].innerHTML = "正在使用TNT写代码中：" ; 
zdwz[3].innerHTML = "不了不了，这伤身体" ; 
zdwz[4].innerHTML = "整天记记记，记你大爷，</br>这么能记咋不去写小说啊？" ; 
zdwz[5].innerHTML = "就你那两下还能阻止我记仇？" ; 
//生成和关闭
function sc(cs){
	if(cs=="o"){
		document.getElementById('id01').style.display='block';
	}
	else{
		document.getElementById('id01').style.display='none';
		var imageElement = document.getElementById("downPic"); 
    imageElement.src = "";
	}
}
//加粗 会玄学报错
function jc(){
	var check = document.getElementsByTagName('input')[0];
	var jczt = document.getElementsByClassName('mdzzbq').item(0).getElementsByTagName('p');
	if(check.checked){
		for(var item in jczt){
			jczt[item].style.fontWeight ="bold";
		}
	}
	else{
		for(var item in jczt){
 			jczt[item].style.fontWeight = "normal";
		}
	}
}
//居中
function jz(){
	var check2 = document.getElementsByTagName('input')[1];
	var jczt = document.getElementsByClassName('mdzzbq').item(0).getElementsByTagName('p');
	if(check2.checked){
		for(var item in jczt){
			jczt[item].style.textAlign = "center";
		}
	}
	else{
		for(var item in jczt){
 			jczt[item].style.textAlign = "left";
		}
	}
}
//截图渲染转换
function draw(bh){
html2canvas(document.querySelector("#capture" + bh)).then(canvas => {
	var myImage = canvas.toDataURL("image/png");  
    var imageElement = document.getElementById("downPic"); 
    imageElement.src = myImage;
});	
}
console.log("\n %c © MDZZ.SPACE(20180517) | TAMSHEN ","color:#ffffff;    background-image: linear-gradient(to right, #2aa8f2, #9db1fa);line-height: 3;padding:5px 0;border-radius:5px;")
console.log("\n提示：错误已经全部屏蔽 ")
//屏蔽掉错误，调试请关闭
window.onerror=function(){return true;}
</script> 
</body>
</html>
